<div class="settings-container">
  <!-- Sidebar -->
  <aside class="settings-sidebar">
    <h2 class="settings-title">Settings</h2>
    <ul>
      <li (click)="navigate('/settings/profile')" [class.active]="currentRoute === '/settings/profile'">
        Edit Profile
      </li>
      <li (click)="navigate('/settings/password')" [class.active]="currentRoute === '/settings/password'">
        Change Password
      </li>
      <li (click)="navigate('/settings/notifications')" [class.active]="currentRoute === '/settings/notifications'">
        Notifications
      </li>
      <li (click)="navigate('/settings/privacy')" [class.active]="currentRoute === '/settings/privacy'">
        Privacy
      </li>
    </ul>
  </aside>

  <!-- Main Content -->
  <section class="settings-content" *ngIf="passwordForm">
    <h3>Change Password</h3>

    <form [formGroup]="passwordForm" (ngSubmit)="onChangePassword()">
      <!-- Current Password -->
      <div class="form-group">
        <label>Current Password</label>
        <input
          type="password"
          formControlName="oldPassword"
          placeholder="Enter your current password"
        />
        <div
          *ngIf="passwordForm.get('oldPassword')?.invalid && passwordForm.get('oldPassword')?.touched"
          class="error-text"
        >
          Current password is required.
        </div>
      </div>

      <!-- New Password -->
      <div class="form-group">
        <label>New Password</label>
        <input
          type="password"
          formControlName="newPassword"
          placeholder="Enter your new password"
        />
        <div
          *ngIf="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched"
          class="error-text"
        >
          Password must be at least 6 characters.
        </div>
      </div>

      <!-- Confirm New Password -->
      <div class="form-group">
        <label>Confirm New Password</label>
        <input
          type="password"
          formControlName="confirmPassword"
          placeholder="Confirm your new password"
        />
        <div
          *ngIf="passwordForm.errors?.['passwordMismatch'] && passwordForm.get('confirmPassword')?.touched"
          class="error-text"
        >
          Passwords do not match.
        </div>
      </div>

      <button class="btn-primary" type="submit" [disabled]="isLoading">
        {{ isLoading ? 'Updating...' : 'Update Password' }}
      </button>
    </form>
  </section>
</div>
