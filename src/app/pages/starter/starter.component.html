<div class="dashboard-container">
  <!-- ===== FEED PRINCIPAL ===== -->
  <div
    class="feed"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="300"
    (scrolled)="onScroll()"
  >
    <div class="post" *ngFor="let post of posts">
      <!-- üßë‚Äç Header del post -->
      <div class="post-header">
        <img [src]="post.avatar" alt="avatar" class="avatar" />
        <div>
          <h3>{{ post.user }}</h3>
          <span>{{ '@' + post.handle }}</span>
        </div>
      </div>

      <!-- üí¨ Contenido -->
      <p class="post-content">{{ post.content }}</p>

      <!-- üñºÔ∏è Imagen si existe -->
      <img
        *ngIf="post.image"
        [src]="post.image"
        alt="post image"
        class="post-image"
      />

      <!-- ‚ù§Ô∏è Acciones -->
      <div class="post-actions">
        <button mat-icon-button>
          <mat-icon>favorite_border</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon>chat_bubble_outline</mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon>share</mat-icon>
        </button>
      </div>
    </div>

    <!-- ‚è≥ Cargando -->
    <div class="loading" *ngIf="loading">
      <mat-progress-spinner mode="indeterminate" diameter="30"></mat-progress-spinner>
      <p>Cargando m√°s publicaciones...</p>
    </div>
  </div>

  <!-- ===== SIDEBAR ===== -->
  <div class="sidebar">
    <!-- üîπ Comunidades recomendadas -->
    <div class="card recomendaciones">
      <h4>Comunidades recomendadas</h4>
      <div *ngFor="let com of comunidades" class="reco-item">
        <img src="assets/images/avatar.png" alt="com" class="avatar" />
        <div>
          <strong>{{ com.nombre }}</strong>
          <p>{{ com.descripcion }}</p>
        </div>
      </div>
    </div>

    <!-- üîπ Personas que quiz√° conozcas -->
    <div class="card recomendaciones">
      <h4>Personas que quiz√° conozcas</h4>
      <div *ngFor="let p of personas" class="reco-item">
        <img [src]="p.avatar" alt="avatar" class="avatar" />
        <div>
          <strong>{{ p.nombre }}</strong>
          <span>{{ '@' + p.handle }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
